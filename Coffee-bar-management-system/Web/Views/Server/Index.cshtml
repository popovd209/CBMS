@{
ViewData["Title"] = "Index";
var completedOrders = ViewData["completedOrders"] as IEnumerable<Entity.models.Order>;
var deliveredOrders = ViewData["deliveredOrders"] as IEnumerable<Entity.models.Order>;
var pendingOrders = ViewData["pendingOrders"] as IEnumerable<Entity.models.Order>;
}

<a class="btn btn-success" asp-action="Create">Create a new order</a>

<h1>Pending orders</h1>

<table class="table">
    <thead>
    <tr>
        <th>
            Total
        </th>
        <th>
            Table Number
        </th>
        <th>
            Server id
        </th>
        <th>
            Created on
        </th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    @if (pendingOrders != null)
    {
    @foreach (var item in pendingOrders)
    {
    <tr>
        <td>
            @item.Total
        </td>
        <td>
            @item.TableTag
        </td>
        <td>
            @item.CreatedBy.FullName
        </td>
        <td>
            @item.CreatedWhen
        </td>
        <td>
            <div>
                <form asp-action="Cancel">
                    <input type="hidden" name="id" value="@item.Id" />
                    <input type="submit" value="Cancel order" class="btn btn-danger" />
                </form>
            </div>
        </td>
    </tr>
    }
    }
    </tbody>
</table>

<h1>Completed orders</h1>

<table class="table">
    <thead>
    <tr>
        <th>
            Total
        </th>
        <th>
            Table Number
        </th>
        <th>
            Server id
        </th>
        <th>
            Created on
        </th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    @if (completedOrders != null)
    {
    @foreach (var item in completedOrders)
    {
    <tr>
        <td>
            @item.Total
        </td>
        <td>
            @item.TableTag
        </td>
        <td>
            @item.CreatedBy.FullName
        </td>
        <td>
            @item.CreatedWhen
        </td>
        <td>
            <div>
                <form asp-action="Deliver">
                    <input type="hidden" name="id" value="@item.Id" />
                    <input type="submit" value="Deliver order" class="btn btn-success" />
                </form>
            </div>
        </td>
    </tr>
    }
    }
    </tbody>
</table>

<h1>Delivered orders</h1>

<table class="table">
    <thead>
    <tr>
        <th>
            Total
        </th>
        <th>
            Table Number
        </th>
        <th>
            Server id
        </th>
        <th>
            Created on
        </th>
        <th></th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    @if (deliveredOrders != null)
    {
    @foreach (var item in deliveredOrders)
    {
    <tr>
        <td>
            @item.Total
        </td>
        <td>
            @item.TableTag
        </td>
        <td>
            @item.CreatedBy.FullName
        </td>
        <td>
            @item.CreatedWhen
        </td>
        <td>
            <a asp-action="OrderAgain" class="btn btn-success" asp-route-id="@item.Id">Order again</a>
        </td>
        <td>
            <div>
                <form asp-action="Pay">
                    <input type="hidden" name="id" value="@item.Id" />
                    <input type="submit" value="Pay order" class="btn btn-danger" />
                </form>
            </div>
        </td>
    </tr>
    }
    }
    </tbody>
</table>